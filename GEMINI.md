# Обзор проекта

Это приложение Next.js для тренировки слепой печати **FlowTyping**.

**Философия проекта:** `FlowTyping` основан на идее **"рефлексивно-адаптивного обучения"**. Вместо скучного заучивания расположения клавиш, в основе лежит формирование мышечной памяти и рефлексов. Обучение происходит через практику на реальных словах и предложениях, а не на бессмысленных наборах символов.

Ключевой инновацией является **отказ от традиционной виртуальной клавиатуры** в пользу **"визуализации движения"** — уникального интерфейса, который подсказывает направление движения пальцев, а не их конечное положение.

Приложение создано с использованием TypeScript, React и Tailwind CSS. Оно использует Storybook для разработки компонентов и Vitest для тестирования.

## Ключевые особенности

*   **Визуализация движения:** Вместо виртуальной клавиатуры пользователю показывается путь, который должен проделать палец от исходной позиции до целевой клавиши.
*   **Адаптивное обучение:** Интеллектуальный алгоритм подбирает упражнения, акцентируя внимание на символах и комбинациях, с которыми у пользователя возникают трудности.
*   **Практика на реальном тексте:** С самого начала обучение проходит на осмысленных словах и предложениях, что делает процесс более увлекательным.
*   **Фокус на рефлексах:** Основная цель — создать устойчивую связь "мысль о символе -> движение пальца", минуя сознательное мышление.
*   **Строка потока (`FlowLine`):** Интерактивная строка, визуализирующая `Stream` (поток символов для набора), имитируя движение каретки печатной машинки.

## Долгосрочное видение

Развитие проекта разделено на 4 фазы:
1.  **Фаза 1 (MVP):** Проверка гипотезы об эффективности "визуализации движения" на минимально жизнеспособном продукте.
2.  **Фаза 2 (Product/Market Fit):** Итеративное улучшение продукта на основе обратной связи, добавление геймификации и расширение пользовательской базы.
3.  **Фаза 3 (Монетизация):** Внедрение Freemium и рекламной моделей, выход на B2B-рынок (корпоративные клиенты, образовательные учреждения).
4.  **Фаза 4 (Лидерство):** Становление лидером рынка, создание специализированных версий (для программистов, писателей) и исследование новых технологий (VR/AR, AI).

# Сборка и запуск

## Разработка

Чтобы запустить сервер для разработки, используйте следующую команду:

```bash
npm run dev
```

Это запустит сервер разработки Next.js по адресу `http://localhost:3000`.

## Storybook

Чтобы запустить Storybook, используйте следующую команду:

```bash
npm run storybook
```

Это запустит сервер разработки Storybook по адресу `http://localhost:6006`.

## Сборка

Чтобы собрать приложение для продакшена, используйте следующую команду:

```bash
npm run build
```

Это создаст готовую к продакшену сборку в каталоге `.next`.

## Тестирование

Чтобы запустить тесты, используйте следующую команду:

```bash
npm run test
```

Это запустит тесты с использованием Vitest.

# Соглашения по разработке

## Стиль кода

В проекте используется стандартный стиль кода Next.js с ESLint для линтинга. Конфигурацию можно найти в `eslint.config.mjs`.

## Соглашения по именованию

В проекте принята формализованная система именования типов. Подробные правила описаны в файле [NAMING_CONVENTIONS.md](./NAMING_CONVENTIONS.md).

## Компоненты

Компоненты находятся в каталоге `src/components`. Компоненты пользовательского интерфейса находятся в `src/components/ui`. В проекте используется `class-variance-authority` для создания вариантов компонентов.

## Данные

Данные приложения находятся в каталоге `src/data`. Сюда входят раскладки клавиатуры, зоны пальцев и раскладки символов.

*   **`symbol-layout-en-qwerty.ts`**: Определяет символы для каждой клавиши (`keyCapId`) с учетом модификатора `Shift`. Использует тип `SymbolLayout`. Логика обработки предусматривает фолбэк на не-Shift версию для системных клавиш.
*   **`finger-layout-asdf.ts`**: Сопоставляет каждую клавишу (`keyCapId`) с идентификатором пальца (`fingerId`), ответственного за ее нажатие. Использует тип `FingerLayout`.
*   **`keyboard-layout-ansi.ts`**: Описывает физическую структуру клавиатуры, включая расположение клавиш по рядам, их размеры и базовые визуальные свойства. Использует тип `KeyboardLayout`.


## Типы

Типы TypeScript находятся в каталоге `src/interfaces`.

# Сохранение информации

Если потребуется сохранить информацию - не использовать внутренний механизм сохранения, так как в этом случае данные сохраняются в общий файл, к которому имеют доступ все проекты, и тогда информация из одного проекта перетечет в другой. Для сохранения информации о проекте необходимо целенаправленно модифицировать именно этот файл.

# Требования к взаимодействию с ИИ

## Стиль общения

*   **Строго деловой и нейтральный тон:** Общение ведется в строго деловом ключе, без эмоциональной окраски. **Запрещены** извинения, обещания, личные мнения, чрезмерная вежливость и другие формы эмоциональных выражений.
*   **Обоснованность утверждений:** Избегать безосновательной уверенности в правильности предложенных решений до их фактической проверки. Признавать итеративный характер процесса разработки и возможность необходимости корректировок.